# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Telegram –ë–æ—Ç–∞ - –†–µ–∑—é–º–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
27 –Ω–æ—è–±—Ä—è 2025 –≥.

## –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (Backend)

#### 1. –ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `telegraf` - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram Bot API
- `qrcode` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–æ–≤

#### 2. –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- `server/lib/telegramBot.js` - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –±–æ—Ç–∞, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏
- `server/lib/telegramNotifications.js` - —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `server/routes/telegram.js` - API –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π

#### 3. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `server/database.js` - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∞–±–ª–∏—Ü—ã:
  - `client_telegram` - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Telegram –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
  - `user_telegram` - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Telegram –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
  - `telegram_notifications_queue` - –æ—á–µ—Ä–µ–¥—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

- `server/index.js` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram –±–æ—Ç–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- `server/routes/tickets.js` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:
  - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–∏–∫–µ—Ç–∞
  - –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
  - –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞

- `server/routes/invoices.js` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:
  - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—á–µ—Ç–∞

### –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (Frontend)

#### 1. –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `client/src/components/widgets/TelegramNotificationsWidget.js` - –≤–∏–¥–∂–µ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏

#### 2. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `client/src/pages/client/Dashboard.js` - –¥–æ–±–∞–≤–ª–µ–Ω –≤–∏–¥–∂–µ—Ç Telegram –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ –∫–ª–∏–µ–Ω—Ç–∞

- `client/src/pages/admin/AdminProfile.js` - –¥–æ–±–∞–≤–ª–µ–Ω–∞:
  - –í–∫–ª–∞–¥–∫–∞ "Telegram" –≤ –ø—Ä–æ—Ñ–∏–ª–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
  - –ò–º–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ TelegramNotificationsWidget

- `client/src/pages/admin/ClientDetail.js` - –¥–æ–±–∞–≤–ª–µ–Ω–æ:
  - –ö–Ω–æ–ø–∫–∞ "üí¨ Telegram" –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
  - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Telegram –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤

‚úÖ **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
- –í–∏–¥–∂–µ—Ç –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–∞ –∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–ª–∏–µ–Ω—Ç—É —á–µ—Ä–µ–∑ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω

‚úÖ **–ü–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ:**
- üé´ –ù–æ–≤—ã—Ö —Ç–∏–∫–µ—Ç–∞—Ö
- üí¨ –ù–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ —Ç–∏–∫–µ—Ç–µ
- üìã –ò–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Å—Ç–∞—Ç—É—Å–æ–≤ —Ç–∏–∫–µ—Ç–æ–≤
- üí∞ –ù–æ–≤—ã—Ö —Å—á–µ—Ç–∞—Ö –Ω–∞ –æ–ø–ª–∞—Ç—É

‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º**
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ –∏ username –≤ Telegram
- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ/–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

‚úÖ **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
- –í–∫–ª–∞–¥–∫–∞ "Telegram" –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- –ò–¥–µ–Ω—Ç–∏—á–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∫–∞–∫ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤

‚úÖ **–ü–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ:**
- üé´ –ù–æ–≤—ã—Ö —Ç–∏–∫–µ—Ç–∞—Ö –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤
- üí¨ –ù–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –≤ —Ç–∏–∫–µ—Ç–∞—Ö –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤

‚úÖ **–û—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π**
- –ö–Ω–æ–ø–∫–∞ "üí¨ Telegram" –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –∫–ª–∏–µ–Ω—Ç–∞
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–µ—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ client_telegram
```sql
CREATE TABLE client_telegram (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  client_id INTEGER NOT NULL UNIQUE,
  telegram_user_id INTEGER,
  telegram_username TEXT,
  connection_token TEXT UNIQUE NOT NULL,
  enabled BOOLEAN DEFAULT 0,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (client_id) REFERENCES clients(id) ON DELETE CASCADE
)
```

### –¢–∞–±–ª–∏—Ü–∞ user_telegram
```sql
CREATE TABLE user_telegram (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL UNIQUE,
  telegram_user_id INTEGER,
  telegram_username TEXT,
  connection_token TEXT UNIQUE NOT NULL,
  enabled BOOLEAN DEFAULT 0,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
)
```

### –¢–∞–±–ª–∏—Ü–∞ telegram_notifications_queue
```sql
CREATE TABLE telegram_notifications_queue (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  recipient_type TEXT NOT NULL CHECK(recipient_type IN ('client', 'user')),
  recipient_id INTEGER NOT NULL,
  message TEXT NOT NULL,
  notification_type TEXT NOT NULL,
  reference_id INTEGER,
  sent BOOLEAN DEFAULT 0,
  sent_at DATETIME,
  error TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
)
```

## API –º–∞—Ä—à—Ä—É—Ç—ã

### –î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- `POST /api/telegram/client/generate-link` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–∫–∏ –∏ QR –∫–æ–¥–∞
- `GET /api/telegram/client/status` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `POST /api/telegram/client/disconnect` - –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- `POST /api/telegram/user/generate-link` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–∫–∏ –∏ QR –∫–æ–¥–∞
- `GET /api/telegram/user/status` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `POST /api/telegram/user/disconnect` - –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `POST /api/telegram/client/:clientId/send-message` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
1. –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ –≤ Telegram —á–µ—Ä–µ–∑ @BotFather
2. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

### –®–∞–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

1. **–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `server/.env`:**
```env
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_botfather
TELEGRAM_BOT_USERNAME=–≤–∞—à_bot_username
APP_URL=http://localhost:5001
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
cd server
npm install
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:**
```bash
npm start
```

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö:**
```
‚úÖ Telegram –±–æ—Ç –∑–∞–ø—É—â–µ–Ω
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ñ–∞–π–ª–∞—Ö:
- `TELEGRAM_BOT_SETUP.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- `TELEGRAM_INSTALLATION.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –ø—Ä–∏–º–µ—Ä—ã .env
- `TELEGRAM_API_EXAMPLES.md` - –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ä—ã:**
- –í—Å–µ —Ç–æ–∫–µ–Ω—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ
- –¢–æ–∫–µ–Ω—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- Telegram user ID –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç
- –í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã –∑–∞—â–∏—â–µ–Ω—ã JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- Telegram username –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

1. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram:**
   - –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ Dashboard / –ü—Ä–æ—Ñ–∏–ª—å
   - –ù–∞–∂–∞—Ç—å "–í–∫–ª—é—á–∏—Ç—å Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"
   - –û—Ç—Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR –∫–æ–¥
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ "‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω—ã!" –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ –±–æ—Ç–µ

2. **–ü–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**
   - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–∏–∫–µ—Ç
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤ –±–æ—Ç–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç "üé´ –ù–æ–≤—ã–π —Ç–∏–∫–µ—Ç"
   - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤ –±–æ—Ç–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç "üí¨ –ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"

3. **–ö–∞—Å—Ç–æ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:**
   - –ù–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –∫–ª–∏–µ–Ω—Ç–∞ (–∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–∫–ª—é—á–µ–Ω) –Ω–∞–∂–∞—Ç—å "üí¨ Telegram"
   - –í–≤–µ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ –±–æ—Ç–µ

## –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –≤ –±—É–¥—É—â–µ–º

- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è webhook –≤–º–µ—Å—Ç–æ polling –¥–ª—è production
- [ ] –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π rate limiter –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç API –ª–∏–º–∏—Ç–æ–≤
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–Ω–æ–ø–æ–∫/–∏–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–æ–∫ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
- [ ] –ò—Å—Ç–æ—Ä–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] Retry –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –Ω–µ—É–¥–∞—á–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞–º–∏ (WhatsApp, Slack)

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π

–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è:

1. **Backend –ª–æ–≥–∏–∫–∞:**
   - `server/lib/telegramBot.js` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º
   - `server/lib/telegramNotifications.js` - —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏
   - `server/routes/telegram.js` - API –º–∞—Ä—à—Ä—É—Ç—ã

2. **Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
   - `client/src/components/widgets/TelegramNotificationsWidget.js` - –æ—Å–Ω–æ–≤–Ω–æ–π –≤–∏–¥–∂–µ—Ç
   - `client/src/pages/client/Dashboard.js` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ
   - `client/src/pages/admin/AdminProfile.js` - –ø—Ä–æ—Ñ–∏–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
   - `client/src/pages/admin/ClientDetail.js` - –∫–∞—Ä—Ç–æ—á–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞

3. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
   - `server/index.js` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
   - `server/database.js` - —Å—Ö–µ–º–∞ –ë–î
   - `server/routes/tickets.js` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Ç–∏–∫–µ—Ç—ã
   - `server/routes/invoices.js` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—á–µ—Ç–∞

## –°—Ç–æ—Ä–æ–∂–µ–≤—ã–µ –∫–æ–¥—ã (Guard clauses)

‚úÖ –í—Å–µ API –º–∞—Ä—à—Ä—É—Ç—ã –∏–º–µ—é—Ç:
- –ü—Ä–æ–≤–µ—Ä–∫—É JWT —Ç–æ–∫–µ–Ω–∞
- –ü—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä/–∫–ª–∏–µ–Ω—Ç)
- –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- –ü—Ä–æ–≤–µ—Ä–∫—É –Ω–∞–ª–∏—á–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î

## –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –Ω–æ–≤—ã–º –∫–æ–¥–æ–º –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—Å—è –Ω–æ–≤—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏. –ù–∏–∫–∞–∫–∏—Ö —Ä—É—á–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

## –í–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ—Ç–∞ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö —á–∞—Ç–æ–≤?**
A: –ù–µ—Ç, –±–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥—É `/start` —Å —Ç–æ–∫–µ–Ω–æ–º. –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.

**Q: –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –µ—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–∏–ª Telegram?**
A: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è. –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É "–ö–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–∏–ª Telegram".

**Q: –ö–∞–∫ –æ—Ç–∫–ª—é—á–∏—Ç—å Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é?**
A: –£–¥–∞–ª–∏—Ç–µ `TELEGRAM_BOT_TOKEN` –∏–∑ `.env`. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä –≤—ã–≤–µ–¥–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç—É –±–µ–∑ –±–æ—Ç–∞.

**Q: –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ª–∏?**
A: –î–∞, –≤—Å–µ —Ç–æ–∫–µ–Ω—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã, —Å–ª—É—á–∞–π–Ω—ã –∏ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É. –í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã –∑–∞—â–∏—â–µ–Ω—ã JWT.

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ TELEGRAM_BOT_TOKEN –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –±–æ—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω Telegram API (–æ–±—ã—á–Ω–æ –∑–∞ rate limiting)
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ —Ñ–∞–π–ª–∞—Ö TELEGRAM_BOT_SETUP.md

---

**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 27 –Ω–æ—è–±—Ä—è 2025 –≥.
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
